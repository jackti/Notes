# 推荐算法之综述

推荐算法具有非常多的应用场景和商业价值，推荐算法的种类很多，但是目前应用最广泛的应该是协同过滤类的推荐算法。



## 推荐算法综述

推荐算法非常的古老，在机器学习还没有兴起的时候就有了应用和需求。概况来说，可以分为以下5种：

（1）**基于内容推荐**：这类推荐算法依赖于自然语言NLP的有关知识，通过挖掘用户画像和物品画像，进而做推荐。这类推荐算法可以找到用户独特的小众爱好，而且具有较强的解释性。

（2）**协同过滤推荐**：协同过滤推荐是目前推荐算法中最主流的种类，在业界已经有了很多广泛的应用。它的优点是不需要太多的特定领域知识，可以通过机器学习算法来得到较好的推荐效果。

（3）**混合推荐**：类似于机器学习中集成学习，通过多个推荐算法的结合，得到一个更好的推荐结果。如通过建立多个推荐算法的模型，最后用投票决定最终的推荐结果。混合推荐理论上不会比单一任何一种推荐算法差。

（4）**基于规则的推荐**：这类算法常见如最多用户点击，最多用户浏览等，属于大众型的推荐方法，在目前大数据时代并不主流。

（5）**基于人口统计信息的推荐**：这是最简单的推荐算法，它只是简单的根据用户的基本信息与发现用户相关的物品，然后进行推荐。目前也已经很少使用。





## 协同过滤推荐概述

协同过滤(Collaborative Filtering)作为推荐算法中最经典的类型，包括在线的协同和离线的过滤两部分。所谓在线协同，就是通过在线数据找到用户可能喜欢的物品，而离线过滤，则是过滤掉一些不值得推荐的数据，比如推荐值评分低的数据，或者虽然推荐值高但是用户已经购买的数据。

一般来说，协同过滤推荐分为三种类型，第一种是基于用户的协同过滤，第二种是基于项目的协同过滤，第三种是基于模型的协同过滤。

**基于用户(user-based)的协同过滤**主要考虑用户与用户之间的相似度，只要找出相似用户喜欢的物品，并预测目标用户对对应物品的评分，就可以找到评分最高的若干个物品推荐给用户。

**基于项目(item-based)的协同过滤**和基于用户的协同过滤类似，只是这时转向计算物品与物品之间的相似度，只有找到了目标用户对某些物品的评分，才可以对相似度较高的类似物品进行预测，将评分最高的若干个相似物品推荐给用户。

**基于模型(model-based)的协同过滤**是目前最主流的协同过滤类型，主要利用机器学习的思想进行建模，推荐物品给用户。

基于用户的协同过滤需要在线找用户和用户之间的相似度关系，计算复杂度肯定会比基于基于项目的协同过滤高。但是可以帮助用户找到新类别的有惊喜的物品。而基于项目的协同过滤，由于考虑的物品的相似性一段时间不会改变，因此可以很容易的离线计算，准确度一般也可以接受，但是推荐的多样性来说，就很难带给用户惊喜了。

一般对于小型的推荐系统来说，基于项目的协同过滤肯定是主流。但是如果是大型的推荐系统来说，则可以考虑基于用户的协同过滤和基于模型的协同过滤。





## 基于模型的协同过滤

基于模型的协同过滤是目前最为主流的协同过滤算法，利用已有的部分稀疏数据，找到最高评分的物品推荐给用户。主要利用机器学习的思想来进行建模解决，主流的方法有：用关联算法，聚类算法，分类算法，回归算法，矩阵分解，神经网络，图模型以及隐语义模型来解决。

### 关联算法

通过用户购买的所有物品数据里出现的频繁出现的项集序列，来做频繁模式挖掘，找到满足支持度阈值的关联物品的频繁$N$项集或者序列。如果用户购买了频繁$N$项集或者序列里的部分物品，那么就可以将频繁项集或序列里的其他物品按一定的评分准则推荐给用户。

常用的关联推荐算法有Apriori，FP-Tree 和 PrefixSpan算法等。



### 聚类算法

利用聚类算法做协同过滤和基于用户或物品的协同过滤有些类似，按照用户或者物品基于一定的距离度量来进行聚类。如果基于用户聚类，则可以将用户按照一定距离度量方式分成不同的目标人群，将同样目标人群评分高的物品推荐给目标用户。基于物品的聚类，则是将用户评分高物品的相似同类物品推荐给用户。

常用的聚类推荐算法有K-Means、BIRCH、DBSCAN和谱聚类等。



### 分类算法

根据用户评分的高低，将分数分成几段，则这个问题变成了分类问题。比如设置一个评分阈值，评分高于阈值的就推荐，评分低于阈值的就不推荐，于是这个问题就变成了一个二分类问题。目前使用最广泛的是逻辑回归，因为逻辑回归的可解释性比较强，每个物品是否推荐都有一个明确的概率，同时可以对数据特征做工程化，得到调优的目的。

常见的分类推荐算法有逻辑回归、朴素贝叶斯和树模型等。



### 回归算法

评分可以是一个连续的值而不是离散的值，通过回归模型可以得到目标用户对某商品的预测打分。

常用的回归推荐算法有Ridge回归，回归树和支持向量回归等。



### 矩阵分解

用矩阵分解做协同过滤是目前使用很广泛的一种方法。由于传统的奇异值分解SVD要求矩阵不能有缺失数据，必须是稠密的，而用户物品评分矩阵是一个很典型的稀疏矩阵，直接使用传统的SVD到协同过滤是比较复杂的。

目前主流的矩阵分解推荐算法主要是SVD的一些变种，如FunkSVD，BiasSVD和SVD++。这些算法和传统SVD的最大区别是不在要求矩阵分解为$U \Sigma V^T$的形式，而是变成两个低秩矩阵$P^TQ$的乘积形式。



### 神经网络

神经网络甚至深度学习是未来协同过滤的一个趋势。如目前已有的利用两层神经网络来做推荐算法的受限玻尔兹曼机(RBM)，未来的深度学习方法将是一个趋势。



### 图模型

用图模型做协同过滤，则将用户之间的相似度放到一个图模型里面考虑，常用的算法是SimRank算法、PersonalRank算法和马尔科夫模型算法。对于SimRank系列算法，它的基本思想是被相似对象引用的两个对象也具有相似性。而马尔科夫模型算法当然是基于马尔科夫链了，它的基本思想是基于传导性来找出普通距离度量算法难以找出的相似性。



### 隐语义模型

隐语义模型主要是基于NLP的，涉及到对用户行为的语义分析来做评分推荐，主要方法有隐性语义分析LSA和隐含狄利克雷分布LDA。





## 总结

协同过滤作为一种经典的推荐算法种类，在工业界应用广泛，它的优点很多，模型通用性强，不需要太多对应数据领域的专业知识，工程实现简单，效果也不错。这些都是它流行的原因。
协同过滤也有些难以避免的难题，比如令人头疼的“冷启动”问题，我们没有新用户任何数据的时候，无法较好的为新用户推荐物品。同时也没有考虑情景的差异，比如根据用户所在的场景和用户当前的情绪。当然，也无法得到一些小众的独特喜好，这块是基于内容的推荐比较擅长的。　　



















































